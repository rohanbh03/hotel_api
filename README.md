# Hotel Booking Analytics & Q&A API

Welcome to the Hotel Booking Analytics & Q&A API project! This repository contains a FastAPI-based application that not only provides valuable hotel booking analytics but also leverages a Retrieval-Augmented Generation (RAG) approach to answer questions based on real booking data. This project was developed as an assignment for an internship opportunity.


## Overview

This project integrates various components:
- **Data Preparation:** Loads a cleaned hotel bookings dataset and converts each record into a descriptive natural language text.
- **FAISS Indexing:** Uses FAISS with clustering to index booking data embeddings generated by a SentenceTransformer model.
- **RAG-based Q&A:** Employs a retrieval-augmented generation pipeline using GPT-Neo to answer user queries based on context retrieved from the dataset.
- **Analytics Endpoints:** Provides insights such as revenue trends, cancellation rates, geographical distribution, and lead time distribution.

The project showcases the combination of traditional analytics and modern NLP techniques to deliver a robust API that can assist in decision-making processes in the hospitality industry.

## Features

- **Data Preparation & Text Generation:** Converts hotel booking records into rich textual summaries.
- **FastAPI Integration:** Provides a clean and interactive API with endpoints for analytics and Q&A.
- **FAISS for Similarity Search:** Efficiently retrieves relevant data using clustering techniques.
- **RAG-based Q&A:** Uses a transformer-based text generation model to produce informative answers.
- **Comprehensive Analytics:** Generates reports on revenue trends, cancellation rates, and more.

## Project Structure

**├── api_endpoint_responses/** 
- Contains screenshots of Swagger API endpoint responses 

**├── dataset/** 
- Contains the CSV file used to train the model 

**├── visualization/**
- Contains the Jupyter Notebook (.ipynb) with data visualizations 

**├── main.py**
- Main application file with FastAPI endpoints and core logic

**├── report.txt**
- A short report detailing the project and results 

**└── requirements.txt**
- contains the libraries needed to be installed for the application to run

# List of required libraries and dependencies

## Setup & Installation

1. **Clone the Repository:**

   ```bash
   git clone https://github.com/rohanbh03/hotel_api.git
   cd hotel_api
   ```
2. **Create and Activate a Virtual Environment:**
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows, use venv\Scripts\activate
   ```
3. **Install Dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

# Usage
**Running the API**

Start the FastAPI server using Uvicorn:
  ```bash
  uvicorn main:app --reload
  ```
# Endpoints

**Analytics Endpoint:**

**POST /analytics:** Accepts a JSON payload with a report_type (e.g., "revenue_trend", "cancellation_rate", "geographical_distribution", or "lead_time_distribution") and returns the corresponding analytics report.

**Q&A Endpoint:**

**POST /ask:** Accepts a JSON payload with a question field, retrieves contextually relevant booking data, and generates an answer using a transformer-based model.

# Technical Details

**FastAPI & Uvicorn:** For building and serving the API.
**Pandas & CSV Data:** For data manipulation and analysis.
**SentenceTransformer & FAISS:** For encoding text and performing similarity search using an index with clustering.
**Transformers (GPT-Neo):** For generating human-like answers to user queries.
**Scikit-learn & Difflib:** For evaluating the accuracy of the generated answers.

# Project Report
A detailed report on the project, including results and insights, is provided in the report.txt file.
